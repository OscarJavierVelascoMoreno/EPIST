{% extends "base_view_settings.html" %}

{% block title %}

Crear usuario de Epist KMS

{% endblock %}

{% block content_header %}

<h1>Hola, {{ user.first_name }}</h1>
<h3>Aquí puedes modificar algunos datos de {{ selected_user.first_name }} {{ selected_user.last_name }}.</h3>

{% endblock %}

{% block main_container %}

<div class="create_main_container">
    <div class="create_container">
        <form method="post">
            {% csrf_token %}
            <div class="form_row">
                <div class="input_data">
                    <input id="old_password" name="old_password" type="password" required>
                    <div class="underline"></div>
                    <label for="">Contraseña Actual</label>
                </div>
                {% if old_error %}
                    <p style="color: red;">{{ old_error }}</p>
                {% endif %}
            </div>
            <div class="form_row">
                <div class="input_data">
                    <input id="new_password" name="new_password" type="password" required>
                    <div class="underline"></div>
                    <label for="">Nueva Contraseña</label>
                </div>
                {% if new_error %}
                    <p style="color: red;">{{ new_error }}</p>
                {% endif %}
            </div>
            <div class="form_row">
                <div class="input_data">
                    <input id="new_password_confirm" name="new_password_confirm" type="password" required>
                    <div class="underline"></div>
                    <label for="">Corfirmación de Nueva Contraseña</label>
                </div>
            </div>
            <div class="form_row">
                <input type="checkbox" onclick="show_password()">
                Mostrar Contraseñas
            </div>
            <div class="edit_form_footer">
                <input class="edit_form_button edit_button" type="submit" value="Guardar">
                <button class="edit_form_button cancel_button" type="button" onclick="location.href = '/users_list'">Cancelar</a>
            </div>
        </form>
    </div>
</div>

<script>
function show_password() {
    const v_fields = [];
    v_fields.push(document.getElementById("old_password"));
    v_fields.push(document.getElementById("new_password"));
    v_fields.push(document.getElementById("new_password_confirm"));
    for (x of v_fields){
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }
}
</script>

{% endblock %}
